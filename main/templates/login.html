{% extends 'base.html' %}
{% load static %}

{% block title %}Login{% endblock %}

{% block content %}
<style>
    body {
        overflow: hidden; /* Prevent scrollbars from appearing */
    }
    .animated-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(36, 32, 33, 0.8), rgba(64, 89, 173, 0.8), rgba(249, 166, 32, 0.8));
        background-size: 300% 300%;
        animation: gradientAnimation 10s ease infinite;
        z-index: -1; /* Ensure the background is behind all content */
        filter: blur(10px); /* Apply blur effect */
    }
    @keyframes gradientAnimation {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    .login-container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 1; /* Ensure the login container is above the background */
    }
    .logo {
        position: absolute;
        top: -90px; /* Increased the space above the card */
        left: 20px; /* Align with the card */
        width: 150px; /* Increased the size */
    }
    .card {
        width: 23rem;
        background-color: rgba(30, 30, 47, 0.4);
        border: none;
        border-radius: 17px;
    }
    .form-label, .form-control, .form-select {
        color: #ffffff;
    }
    .form-control, .form-select {
        background-color: rgba(30, 30, 47, 0.5); 
        color: #ffffff;
        border: 0px solid #272428;
        border-radius: 10px;
    }
    .form-select {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"><path fill="%23FFFFFF" d="M2 0L0 2h4z"/></svg>');
        background-repeat: no-repeat;
        background-position: right 10px top 50%;
        background-size: 10px 10px;
        padding-right: 30px;
    }
    .form-select option {
        background-color: rgba(30, 30, 47, 0.5); 
        color: #ffffff;
    }
    .form-select:focus {
        box-shadow: none; /* Remove the default focus shadow */
    }
    .btn-primary {
        background-color: #435aa9;
        border-color: #435aa9;
    }
    .btn-primary:hover {
        background-color: #283e7c;
        border-color: #283e7c;
    }
    .btn-primary:active {
        background-color: #25376b;
        border-color: #25376b;
    }
    .error-message {
        color: #ff6b6b;
        font-weight: bold;
        text-align: left;
        margin-top: 10px;
    }
</style>
<div class="animated-background"></div>
<div class="position-relative d-flex justify-content-center align-items-center vh-100">
    <div class="login-container">
        <img src="{% static 'logo.png' %}" alt="App Logo" class="logo">
        <div class="card p-4">
            <h1 class="h4 mb-4 text-left" style="color: #ffffff;">Zajel System Login</h1>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="username" class="form-label">Username</label>
                    {{ form.username }}
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    {{ form.password }}
                </div>
                <button type="submit" class="btn btn-primary w-100">Login</button>
                {% if error_message %}
                <div class="error-message">{{ error_message }}</div>
                {% endif %}
            </form>
        </div>
    </div>
</div>
{% endblock %}
